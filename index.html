<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="NetScanner Pro - A real nmap-powered web-based network scanner for authorized penetration testing and cybersecurity education.">
    <meta name="keywords" content="network scanner, port scanner, nmap, security, penetration testing, cybersecurity">
    <meta name="author" content="NetScanner Pro">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="NetScanner Pro - Real Network Scanner">
    <meta property="og:description" content="nmap-powered web network scanner with real-time visualization.">
    <meta property="og:type" content="website">

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">

    <title>NetScanner Pro - Real Network Scanner</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- CDN Scripts - SRI integrity hashes recommended for production
         Generate: curl -s <URL> | openssl dgst -sha384 -binary | openssl base64 -A
         Then add: integrity="sha384-<hash>" to each script tag
         Or use https://www.srihash.org/ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="scanner-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">‚ö°</span>
                <h1>NetScanner<span class="pro">PRO</span></h1>
            </div>
            <div class="status-bar">
                <span class="status-item">
                    <span class="status-label">Source IP:</span>
                    <span id="sourceIP" class="status-value">detecting...</span>
                </span>
                <span class="status-item">
                    <span class="status-label">nmap:</span>
                    <span id="nmapStatus" class="status-value nmap-ok">checking...</span>
                </span>
                <span class="status-item">
                    <span class="status-label">Proxychains:</span>
                    <span id="proxychainsStatus" class="status-value nmap-warn">checking...</span>
                </span>
                <span class="status-item">
                    <span class="status-label">Status:</span>
                    <span id="scanStatus" class="status-value status-idle">IDLE</span>
                </span>
                <span class="status-item">
                    <span class="status-label">Hosts Found:</span>
                    <span id="hostsFound" class="status-value">0</span>
                </span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Control Panel -->
            <section class="control-panel">
                <h2 class="section-title">‚öôÔ∏è Scan Configuration</h2>

                <div class="input-group">
                    <label for="targetIP">Target IP/Range/Hostname:</label>
                    <input type="text" id="targetIP" placeholder="192.168.1.1 or 10.0.0.0/24 or example.com"
                        value="192.168.1.0/24"
                        aria-describedby="targetHelp" autocomplete="off" maxlength="253">
                    <small id="targetHelp" class="input-help">IP, CIDR range, IP range, or hostname</small>
                </div>

                <div class="input-group">
                    <label for="scanType">Scan Type:</label>
                    <select id="scanType">
                        <option value="ping">Ping Scan (-sn) Host Discovery</option>
                        <option value="quick">Quick Scan (-F) Top Ports</option>
                        <option value="full">Full Scan (-p-) All 65535 Ports</option>
                        <option value="stealth">Stealth Scan (-sS) SYN *root</option>
                        <option value="service">Service Detection (-sV)</option>
                        <option value="os">OS Detection (-O) *root</option>
                        <option value="udp">UDP Scan (-sU) *root</option>
                        <option value="vuln">Vulnerability Scan (--script vuln)</option>
                        <option value="aggressive">Aggressive Scan (-A) All-in-One *root</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="ports">Custom Ports (optional):</label>
                    <input type="text" id="ports" placeholder="22,80,443 or 1-1000" maxlength="200">
                </div>

                <div class="input-group">
                    <label for="scanTiming">Scan Timing:</label>
                    <select id="scanTiming">
                        <option value="1">T1 - Sneaky (IDS Evasion)</option>
                        <option value="2">T2 - Polite (Low Bandwidth)</option>
                        <option value="3" selected>T3 - Normal (Default)</option>
                        <option value="4">T4 - Aggressive (Fast)</option>
                        <option value="5">T5 - Insane (Fastest)</option>
                    </select>
                </div>

                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="skipDiscovery">
                        <span>Skip Host Discovery (-Pn)</span>
                    </label>
                    <small class="input-help">Treat all hosts as online. Use when hosts block ping probes.</small>
                </div>

                <!-- Proxychains Configuration -->
                <div class="checkbox-group proxy-section">
                    <label class="checkbox-label">
                        <input type="checkbox" id="proxychainsEnabled">
                        <span>Route through Proxychains</span>
                    </label>
                    <small class="input-help">Route scans through SOCKS/HTTP proxies. Requires proxychains4 on server.</small>

                    <div id="proxychainsConfig" class="proxy-config" style="display: none;">
                        <div class="input-group">
                            <label for="chainType">Chain Type:</label>
                            <select id="chainType">
                                <option value="dynamic" selected>Dynamic (skip dead proxies)</option>
                                <option value="strict">Strict (all proxies in order)</option>
                                <option value="random">Random (rotate per connection)</option>
                            </select>
                        </div>

                        <label class="proxy-list-label">Proxy List:</label>
                        <div id="proxyEntries">
                            <div class="proxy-entry">
                                <select class="proxy-type">
                                    <option value="socks5" selected>SOCKS5</option>
                                    <option value="socks4">SOCKS4</option>
                                    <option value="http">HTTP</option>
                                </select>
                                <input type="text" class="proxy-host" placeholder="127.0.0.1" maxlength="253">
                                <input type="number" class="proxy-port" placeholder="9050" min="1" max="65535">
                                <button class="btn-remove-proxy" title="Remove proxy" disabled>&times;</button>
                            </div>
                        </div>
                        <button id="addProxy" class="btn btn-small btn-add-proxy">+ Add Proxy</button>

                        <div class="proxy-notes">
                            <small>TCP scans only. SYN/UDP/ICMP bypass proxies.<br>
                            Random chain rotates proxy per connection for anonymity.</small>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button id="startScan" class="btn btn-primary" aria-label="Start network scan">
                        <span class="btn-icon">üöÄ</span> Start Scan
                    </button>
                    <button id="stopScan" class="btn btn-danger" disabled aria-label="Stop network scan">
                        <span class="btn-icon">‚õî</span> Stop Scan
                    </button>
                    <button id="clearResults" class="btn btn-secondary" aria-label="Clear scan results">
                        <span class="btn-icon">üóëÔ∏è</span> Clear Results
                    </button>
                </div>

                <!-- Loading Indicator -->
                <div id="loadingIndicator" class="loading-indicator" style="display: none;" aria-live="polite">
                    <div class="spinner"></div>
                    <span>Scanning network (real nmap scan in progress)...</span>
                </div>

                <!-- Export Options -->
                <div class="export-section">
                    <h3 class="subsection-title">üì§ Export Results</h3>
                    <div class="button-group">
                        <button id="exportJSON" class="btn btn-export">
                            <span class="btn-icon">üìÑ</span> JSON
                        </button>
                        <button id="exportCSV" class="btn btn-export">
                            <span class="btn-icon">üìä</span> CSV
                        </button>
                        <button id="exportPDF" class="btn btn-export">
                            <span class="btn-icon">üìï</span> PDF
                        </button>
                    </div>
                </div>
            </section>

            <!-- Terminal Output -->
            <section class="terminal-section">
                <div class="terminal-header">
                    <span class="terminal-title">üìü nmap Output</span>
                    <div class="terminal-controls">
                        <span class="terminal-dot red"></span>
                        <span class="terminal-dot yellow"></span>
                        <span class="terminal-dot green"></span>
                    </div>
                </div>
                <div id="terminal" class="terminal">
                    <div class="terminal-line">
                        <span class="prompt">[NetScanner]$</span>
                        <span class="text-green">System initialized. Connecting to backend...</span>
                    </div>
                </div>
            </section>

            <!-- Visualization Section -->
            <section class="visualization-section">
                <h2 class="section-title">üìà Network Visualization</h2>

                <div class="viz-tabs">
                    <button class="viz-tab active" data-tab="network">Network Map</button>
                    <button class="viz-tab" data-tab="ports">Port Distribution</button>
                    <button class="viz-tab" data-tab="services">Service Analysis</button>
                    <button class="viz-tab" data-tab="os">OS Distribution</button>
                    <button class="viz-tab" data-tab="vulns">Vulnerabilities</button>
                </div>

                <div class="viz-content">
                    <div id="networkTab" class="viz-panel active">
                        <canvas id="networkMap"></canvas>
                    </div>
                    <div id="portsTab" class="viz-panel">
                        <canvas id="portChart"></canvas>
                    </div>
                    <div id="servicesTab" class="viz-panel">
                        <canvas id="serviceChart"></canvas>
                    </div>
                    <div id="osTab" class="viz-panel">
                        <canvas id="osChart"></canvas>
                    </div>
                    <div id="vulnsTab" class="viz-panel">
                        <canvas id="vulnChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Results Panel -->
            <section class="results-panel">
                <h2 class="section-title">üìä Scan Results</h2>
                <div id="resultsContainer" class="results-container">
                    <div class="no-results">
                        <span class="icon">üîç</span>
                        <p>No scan results yet. Start a scan to see real nmap data.</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>‚ö†Ô∏è <strong>AUTHORIZED USE ONLY</strong> - Only scan networks you own or have explicit written permission to test</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>
